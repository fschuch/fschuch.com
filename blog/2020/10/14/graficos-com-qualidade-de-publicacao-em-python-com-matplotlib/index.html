<!doctype html><html lang=pt-br><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Wowchemy 5.1.0 for Hugo"><meta name=author content="Felipe N. Schuch"><meta name=description content="Independente do tipo de conteúdo que você está trabalhando, seja técnico, científico, educacional, ou voltado para divulgação em mídias sociais, existem quatro tópicos que influenciam diretamente na qualidade dos gráficos que se estão produzindo: Localização, dimensões, estilo e formato. Todos são abordados em detalhes neste post."><link rel=alternate hreflang=en href=https://www.fschuch.com/en/blog/2025/07/05/publication-quality-plots-in-python-with-matplotlib/><link rel=alternate hreflang=pt-br href=https://www.fschuch.com/blog/2020/10/14/graficos-com-qualidade-de-publicacao-em-python-com-matplotlib/><link rel=preconnect href=https://fonts.gstatic.com crossorigin><meta name=theme-color content="#3f51b5"><script src=/js/mathjax-config.js></script><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/academicons/1.9.0/css/academicons.min.css integrity="sha512-W4yqoT1+8NLkinBLBZko+dFB2ZbHsYLDdr50VElllRcNt2Q4/GSs6u71UHKxB7S6JEMCp5Ve4xjh3eGQl/HRvg==" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css integrity="sha256-FMvZuGapsJLjouA6k7Eo2lusoAX9i0ShlWFG6qt7SLc=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/atom-one-light.min.css crossorigin=anonymous title=hl-light media=print onload="this.media='all'"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/atom-one-light.min.css crossorigin=anonymous title=hl-dark media=print onload="this.media='all'" disabled><script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js integrity crossorigin=anonymous async></script><link rel=preload as=style href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap"><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media=print onload="this.media='all'"><link rel=stylesheet href=/css/wowchemy.304d0419c2aa44a04e284fe6adec1562.css><script async src="https://www.googletagmanager.com/gtag/js?id=UA-177068857-1"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}function trackOutboundLink(a,b){gtag('event','click',{event_category:'outbound',event_label:a,transport_type:'beacon',event_callback:function(){b!=='_blank'&&(document.location=a)}}),console.debug("Outbound link clicked: "+a)}function onClickCallback(a){if(a.target.tagName!=='A'||a.target.host===window.location.host)return;trackOutboundLink(a.target,a.target.getAttribute('target'))}gtag('js',new Date),gtag('config','UA-177068857-1',{anonymize_ip:!0}),gtag('set',{cookie_flags:'SameSite=None;Secure'}),document.addEventListener('click',onClickCallback,!1)</script><link rel=manifest href=/index.webmanifest><link rel=icon type=image/png href=/media/icon_hu25d0b20bf2bf90ac27c6cbd6ce22358d_22074_32x32_fill_lanczos_center_2.png><link rel=apple-touch-icon type=image/png href=/media/icon_hu25d0b20bf2bf90ac27c6cbd6ce22358d_22074_180x180_fill_lanczos_center_2.png><link rel=canonical href=https://www.fschuch.com/blog/2020/10/14/graficos-com-qualidade-de-publicacao-em-python-com-matplotlib/><meta property="twitter:card" content="summary_large_image"><meta property="twitter:site" content="@fschuch"><meta property="twitter:creator" content="@fschuch"><meta property="og:site_name" content="F. Schuch"><meta property="og:url" content="https://www.fschuch.com/blog/2020/10/14/graficos-com-qualidade-de-publicacao-em-python-com-matplotlib/"><meta property="og:title" content="Gráficos com qualidade de publicação em Python com Matplotlib | F. Schuch"><meta property="og:description" content="Independente do tipo de conteúdo que você está trabalhando, seja técnico, científico, educacional, ou voltado para divulgação em mídias sociais, existem quatro tópicos que influenciam diretamente na qualidade dos gráficos que se estão produzindo: Localização, dimensões, estilo e formato. Todos são abordados em detalhes neste post."><meta property="og:image" content="https://www.fschuch.com/blog/2020/10/14/graficos-com-qualidade-de-publicacao-em-python-com-matplotlib/featured.jpg"><meta property="twitter:image" content="https://www.fschuch.com/blog/2020/10/14/graficos-com-qualidade-de-publicacao-em-python-com-matplotlib/featured.jpg"><meta property="og:locale" content="pt-br"><meta property="article:published_time" content="2020-10-14T00:00:00+00:00"><meta property="article:modified_time" content="2025-07-05T12:44:52-03:00"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.fschuch.com/blog/2020/10/14/graficos-com-qualidade-de-publicacao-em-python-com-matplotlib/"},"headline":"Gráficos com qualidade de publicação em Python com Matplotlib","image":["https://www.fschuch.com/blog/2020/10/14/graficos-com-qualidade-de-publicacao-em-python-com-matplotlib/featured.jpg"],"datePublished":"2020-10-14T00:00:00Z","dateModified":"2025-07-05T12:44:52-03:00","author":{"@type":"Person","name":"Felipe N. Schuch"},"publisher":{"@type":"Organization","name":"F. Schuch","logo":{"@type":"ImageObject","url":"https://www.fschuch.com/media/icon_hu25d0b20bf2bf90ac27c6cbd6ce22358d_22074_192x192_fill_lanczos_center_2.png"}},"description":"Independente do tipo de conteúdo que você está trabalhando, seja técnico, científico, educacional, ou voltado para divulgação em mídias sociais, existem quatro tópicos que influenciam diretamente na qualidade dos gráficos que se estão produzindo: Localização, dimensões, estilo e formato. Todos são abordados em detalhes neste post."}</script><script src=https://cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.1/cookieconsent.min.js integrity="sha256-5VhCqFam2Cn+yjw61zbBNrbHVJ6SRydPeKopYlngbiQ=" crossorigin=anonymous></script><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.1/cookieconsent.min.css integrity="sha256-zQ0LblD/Af8vOppw18+2anxsuaz3pWYyVWi+bTvTH8Q=" crossorigin=anonymous><script>window.addEventListener("load",function(){window.cookieconsent.initialise({palette:{popup:{background:"#3f51b5",text:"rgb(255, 255, 255)"},button:{background:"rgb(255, 255, 255)",text:"#3f51b5"}},theme:"classic",content:{message:"Este site contém cookies para garantir que você tenha a melhor experência.",dismiss:"Entendi!",link:"Saiba mais",href:"https://www.cookiesandyou.com"}})})</script><title>Gráficos com qualidade de publicação em Python com Matplotlib | F. Schuch</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents class=page-wrapper data-wc-page-id=9fcd592824de914fc850cc19e8883814><script src=/js/wowchemy-init.min.f16be01fc8fb2b5885dd67ce942d1185.js></script><aside class=search-modal id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class=col-6><h1>Pesquisar</h1></div><div class="col-6 col-search-close"><a class=js-search href=# aria-label=Close><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box><input name=q id=search-query placeholder=Pesquisar... autocapitalize=off autocomplete=off autocorrect=off spellcheck=false type=search class=form-control aria-label=Pesquisar...></div></section><section class=section-search-results><div id=search-hits></div></section></div></aside><div class=page-header><nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main><div class=container-xl><div class="d-none d-lg-inline-flex"><a class=navbar-brand href=/>F. Schuch</a></div><button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar aria-expanded=false aria-label="Alterar navegação">
<span><i class="fas fa-bars"></i></span></button><div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none"><a class=navbar-brand href=/>F. Schuch</a></div><div class="navbar-collapse main-menu-item collapse justify-content-start" id=navbar-content><ul class="navbar-nav d-md-inline-flex"><li class=nav-item><a class=nav-link href=/#about><span>Sobre</span></a></li><li class=nav-item><a class=nav-link href=/#posts><span>Blog</span></a></li><li class=nav-item><a class=nav-link href=/#projects><span>Projetos</span></a></li><li class=nav-item><a class=nav-link href=/#featured><span>Publicações</span></a></li><li class=nav-item><a class=nav-link href=/#events><span>Palestras</span></a></li><li class=nav-item><a class=nav-link href=/#contact><span>Contato</span></a></li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2"><li class=nav-item><a class="nav-link js-search" href=# aria-label=Pesquisar><i class="fas fa-search" aria-hidden=true></i></a></li><li class="nav-item dropdown theme-dropdown"><a href=# class=nav-link data-toggle=dropdown aria-haspopup=true aria-label="Display preferences"><i class="fas fa-moon" aria-hidden=true></i></a><div class=dropdown-menu><a href=# class="dropdown-item js-set-theme-light"><span>Light</span></a>
<a href=# class="dropdown-item js-set-theme-dark"><span>Dark</span></a>
<a href=# class="dropdown-item js-set-theme-auto"><span>Automatic</span></a></div></li><li class="nav-item dropdown i18n-dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true aria-label=Languages><i class="fas fa-globe mr-1" aria-hidden=true></i><span class="d-none d-lg-inline">Português</span></a><div class=dropdown-menu><div class="dropdown-item dropdown-item-active"><span>Português</span></div><a class=dropdown-item href=https://www.fschuch.com/en/blog/2025/07/05/publication-quality-plots-in-python-with-matplotlib/><span>English</span></a></div></li></ul></div></nav></div><div class=page-body><article class=article><div class="article-container pt-3"><h1>Gráficos com qualidade de publicação em Python com Matplotlib</h1><div class=article-metadata><span class=article-date>Última atualização em
Jul 5, 2025</span>
<span class=middot-divider></span><span class=article-reading-time>11 minutos de leitura</span></div><div class="btn-links mb-3"><a class="btn btn-outline-primary btn-page-header" href=/project/figure-scale/>Projeto</a></div></div><div class="article-header article-container featured-image-wrapper mt-4 mb-4" style=max-width:720px;max-height:476px><div style=position:relative><img src=/blog/2020/10/14/graficos-com-qualidade-de-publicacao-em-python-com-matplotlib/featured_hu3d03a01dcc18bc5be0e67db3d8d209a6_183928_720x0_resize_q90_lanczos.jpg alt class=featured-image></div></div><div class=article-container><div class=article-style><details class="toc-inpage d-print-none" open><summary class=font-weight-bold>Lista de Conteúdos</summary><nav id=TableOfContents><ul><li><a href=#introdução>Introdução</a></li><li><a href=#metodologia>Metodologia</a><ul><li><a href=#localização>Localização</a></li><li><a href=#estilo>Estilo</a></li><li><a href=#dimensões>Dimensões</a></li><li><a href=#formato>Formato</a></li></ul></li><li><a href=#conclusão>Conclusão</a></li></ul></nav></details><h2 id=introdução>Introdução</h2><p>A síntese e análises de dados e resultados na forma gráfica é um tópico de interesse para profissionais das mais diversas áreas, seja na produção de conteúdo técnico/científico, educacional, ou para divulgação em meios digitais. Uma boa figura vai atrair a atenção do seu público alvo.</p><p>Existem quatro tópicos que, na minha opinião, influenciam diretamente no resultado final dos gráficos que serão produzidos, especialmente quando falamos em qualidade de publicação. São eles:</p><ol><li><strong><a href=#localiza%c3%a7%c3%a3o>Localização</a>:</strong> A formatação numérica deve estar de acordo com o idioma para o qual se está produzindo, seja na formatação de datas, moeda, ou mesmo o separador decimal;</li><li><strong><a href=#estilo>Estilo</a>:</strong> Aqui se definem diversos aspectos visuais, como o esquema de cores do gráfico, eixos e plano de fundo, fonte, e outros elementos. É importante manter a consistência para os diversos gráficos que vão constituir o mesmo documento;</li><li><strong><a href=#dimens%c3%b5es>Dimensões</a>:</strong> A definição da largura e altura da figura, bem como o tamanho da fonte, devem ser condizentes com o tipo de conteúdo onde o gráfico será inserido, seja em slides, pôster, relatório, artigo, postagem nas redes sociais e muitos outros;</li><li><strong><a href=#formato>Formato</a>:</strong> O formato no qual as figuras serão salvas. Opções vetoriais são preferíveis, porque mantém uma boa apresentação visual mesmo em telas ou impressões de alta resolução, ou quando as figuras são ampliadas.</li></ol><hr><script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><ins class=adsbygoogle style=display:block;text-align:center data-ad-layout=in-article data-ad-format=fluid data-ad-client=ca-pub-9439284423075563 data-ad-slot=7484154417></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script><hr><h2 id=metodologia>Metodologia</h2><p>Os pontos acima serão abordados em Python, ou mais especificamente, no pacote <a href=https://matplotlib.org/ target=_blank rel=noopener>Matplotlib</a>, que é uma biblioteca de plotagem 2D, que produz figuras de qualidade de publicação em uma variedade de formatos impressos e ambientes interativos para múltiplas plataformas. Matplotlib pode ser usada em scripts Python, nos shells do Python e do <a href=https://ipython.org/ target=_blank rel=noopener>IPython</a>, no <a href=https://jupyter.org/ target=_blank rel=noopener>Jupyter Notebook</a>, nos servidores de aplicativos da web e em quatro kits de ferramentas de interface gráfica do usuário. <strong>Matplotlib tenta tornar as coisas fáceis simples e as coisas difíceis possíveis</strong>. Você pode gerar gráficos, histogramas, espectros de potência, gráficos de barras, gráficos de erros, diagramas de dispersão, etc., com apenas algumas linhas de código.</p><p>Além disso, funções de plotagem Matplotlib são integradas às principais soluções para gerenciamento de dados em Python, como <a href=https://numpy.org/ target=_blank rel=noopener>NumPy</a>, <a href=https://pandas.pydata.org/ target=_blank rel=noopener>Pandas</a>, <a href=http://xarray.pydata.org/en/stable/ target=_blank rel=noopener>Xarray</a>, <a href=https://dask.org/ target=_blank rel=noopener>Dask</a> e muitos outros.</p><p>Confira na <a href=https://matplotlib.org/stable/install/index.html target=_blank rel=noopener>documentação do Matplotlib</a> a melhor maneira de instalação no seu sistema. Podemos importar para nosso código com:</p><pre><code class=language-python>import matplotlib.pyplot as plt
</code></pre><p>Agora vamos abordar especificamente cada tópico listado para a produção de figuras com qualidade de publicação.</p><h3 id=localização>Localização</h3><p>Se seu interesse é produzir conteúdo em língua inglesa, indico que pule para o <a href=#estilo>próximo tópico</a>. Caso contrário, podemos usar o pacote <a href=https://docs.python.org/3.8/library/locale.html target=_blank rel=noopener>locale</a> para garantir a consistência de nossas figuras com os padrões da língua portuguesa, por exemplo, ou realmente qualquer outra. Para tanto, podemos importar o pacote e definir a linguagem padrão como português:</p><pre><code class=language-python>import locale
locale.setlocale(locale.LC_ALL, &quot;pt_BR.utf8&quot;)
</code></pre><p>Todos os parâmetros personalizáveis são armazenados no <a href=https://docs.python.org/pt-br/3.8/tutorial/datastructures.html#dictionaries target=_blank rel=noopener>dicionário</a> <code>plt.rcParams</code>, uma visão completa está disponível na página de sua <a href=https://matplotlib.org/3.1.1/tutorials/introductory/customizing.html target=_blank rel=noopener>Documentação</a>, mas não se preocupe, os principais pontos serão demonstrados aqui.</p><p>O passo a seguir é informar que queremos utilizar outro idioma para a notação nos eixos dos gráficos, por exemplo, usar <code>,</code> como separador decimal, fazemos isso com o seguinte código:</p><pre><code class=language-python>plt.rcParams.update(
    {
        'axes.formatter.use_locale' : True,
    }
)
</code></pre><p>Não faz sentido confundir o público com diferentes separadores de decimal se podemos resolver isso facilmente com três linhas de código, não é mesmo?</p><p>Perceba que essa definição só é válida para os eixos das figuras, não modificando o comportamento do próprio núcleo Python, por exemplo:</p><pre><code class=language-python>value = 0.67
print(value)
</code></pre><pre><code class=language-text>    0.67
</code></pre><p>Note que a impressão ainda usa o ponto como separador decimal. Para impressões, anotações ou legendas nas figuras, podemos usar o método <code>locale.str()</code> para formatar automaticamente os números em ponto flutuante:</p><pre><code class=language-python>print(locale.str(value))
</code></pre><pre><code class=language-text>    0,67
</code></pre><p>O que pode ser uma boa prática, uma vez que basta retornar uma linha de código para o inglês (<code>locale.setlocale(locale.LC_ALL, "en_US.utf8")</code>), que todo o restante do código irá se comportar adequadamente.</p><p>Também é possível formatar facilmente dados monetários:</p><pre><code class=language-python>print(locale.currency(value))
</code></pre><pre><code class=language-text>    'R$ 0,67'
</code></pre><p>E o formato das datas, com o pacote <a href=https://docs.python.org/3.8/library/time.html target=_blank rel=noopener>time</a>, veja:</p><pre><code class=language-python>from time import gmtime, strftime
strftime(&quot;%a, %d %b %Y %H:%M:%S +0000&quot;, gmtime())
</code></pre><pre><code class=language-text>    'qua, 14 out 2020 22:31:50 +0000'
</code></pre><h3 id=estilo>Estilo</h3><p>Agora vamos falar sobre o estilo das figuras, incluindo sequencia de cores, estilo dos eixos, cor do fundo, presença ou não da grade, bem como seu próprio estilo, formatação das anotações e muitos outros detalhes.</p><p>Uma série de estilos já estão preparados e inclusos na biblioteca, e todos eles estão disponíveis em <a href=https://matplotlib.org/3.1.0/gallery/style_sheets/style_sheets_reference.html target=_blank rel=noopener>Documentação - Matplotlib</a>.
De lá, retirei alguns para exemplificar o leque de possibilidades que temos a nossa disposição:</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://matplotlib.org/3.1.0/_images/sphx_glr_style_sheets_reference_001.png alt loading=lazy data-zoomable></div></div></figure><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://matplotlib.org/3.1.0/_images/sphx_glr_style_sheets_reference_002.png alt loading=lazy data-zoomable></div></div></figure><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://matplotlib.org/3.1.0/_images/sphx_glr_style_sheets_reference_005.png alt loading=lazy data-zoomable></div></div></figure><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://matplotlib.org/3.1.0/_images/sphx_glr_style_sheets_reference_006.png alt loading=lazy data-zoomable></div></div></figure><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://matplotlib.org/3.1.0/_images/sphx_glr_style_sheets_reference_008.png alt loading=lazy data-zoomable></div></div></figure><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://matplotlib.org/3.1.0/_images/sphx_glr_style_sheets_reference_009.png alt loading=lazy data-zoomable></div></div></figure><figure><div class="d-flex justify-content-center"><div class=w-100><img src=https://matplotlib.org/3.1.0/_images/sphx_glr_style_sheets_reference_011.png alt loading=lazy data-zoomable></div></div></figure></p><p>Indicamos o uso de um estilo pelo seu nome, e o seguinte comando:</p><pre><code class=language-python>plt.style.use('ggplot')
</code></pre><p>É possível ainda combinar diversos estilos em uma lista, para a produção de resultados únicos:</p><pre><code class=language-python>plt.style.use(['ggplot', 'dark_background'])
</code></pre><p>Note que os estilos mais à direita irão sobrescrever parâmetros definidos previamente pelos estilos à esquerda, então a ordem com que são fornecidos pode mudar o resultado do final.</p><p>Pode-se ainda personalizar cada um dos aspectos dos gráficos individualmente, para mais detalhes, sugiro consultar a <a href=https://matplotlib.org/3.1.1/tutorials/introductory/customizing.html target=_blank rel=noopener>Documentação - Matplotlib</a>.
Caso queira retomar os parâmetros originais, use:</p><pre><code class=language-python>plt.rcdefaults()
</code></pre><h3 id=dimensões>Dimensões</h3><p>Outro ponto essencial, a relação entre o tamanho da figura e o tamanho da fonte. Quando falamos em qualidade de publicação, os textos e números dos gráficos devem ser exatamente do mesmo tamanho que o restante do documento onde eles são inseridos.</p><p>O ideal aqui é a precisa definição da largura e da altura que se deseja a figura, para que ela possa ser inserida no documento final em uma escala 1:1, sem nenhuma distorção.</p><p>Há um pacote Python de minha autoria que facilita essa tarefa, o <a href=https://pypi.org/project/figure-scale target=_blank rel=noopener>figure-scale</a>. Maiores detalhes podem ser encontrados em sua <a href=https://docs.fschuch.com/figure-scale/ target=_blank rel=noopener>Documentação</a>, mas aqui vamos ver um exemplo de uso.</p><p>Primeiro, precisamos instalar o pacote:</p><pre><code class=language-shell>pip install figure-scale
</code></pre><p>A classe <code>FigureScale</code> é o principal componente do pacote.
Ela permite definir as dimensões da figura da maneira que for mais conveniente para seu caso:</p><ol><li><strong>Largura e Altura</strong>: Especificar ambas as dimensões explicitamente;</li><li><strong>Largura e Proporção</strong>: Especificar a largura e deixar a altura ser calculada a partir da proporção;</li><li><strong>Altura e Proporção</strong>: Especificar a altura e deixar a largura ser calculada a partir da proporção.</li></ol><p>Todas as dimensões podem ser especificadas em várias unidades. Vamos explorar cada abordagem:</p><pre><code class=language-python>import figure_scale as fs
size_a = fs.FigureScale(units=&quot;mm&quot;, width=100, height=100)
size_b = fs.FigureScale(units=&quot;mm&quot;, width=100, aspect=1.0)
size_c = fs.FigureScale(units=&quot;mm&quot;, height=100, aspect=1.0)
</code></pre><p>Vamos detalhar cada um dos parâmetros:</p><ul><li><code>width</code> é a largura útil da página, isso é, a largura da página menos ambas margens. Ou a largura da coluna, para os casos em que isso se aplicar. Em documentos <a href=https://www.latex-project.org/ target=_blank rel=noopener>$\LaTeX$</a>, esse valor pode ser obtido com o comando <code>\the\columnwidth</code>;</li><li><code>height</code> pode ser usado para o ajuste da altura em termos absolutos, caso o ajuste fino seja desejado. Em documentos <a href=https://www.latex-project.org/ target=_blank rel=noopener>$\LaTeX$</a>, esse valor pode ser obtido com o comando <code>\the\textheight</code>;</li><li><code>aspect</code> define a altura da figura em valor relativo em relação à largura. Por exemplo, <code>aspect=1.0</code> criará uma figura quadrada, enquanto <code>aspect=9.0/16.0</code> criará a proporção certa para telas wide-screen;</li><li><code>unit</code> representa a unidade de comprimento para <code>width</code> e <code>height</code>, algumas das opções suportadas são &ldquo;in&rdquo; (polegada), &ldquo;mm&rdquo;, &ldquo;cm&rdquo; e &ldquo;pt&rdquo; (pontos tipográfico, é a utilizada em $\LaTeX$). Assim, o objeto realiza a devida conversão de unidades, uma vez que Matplotlib espera essa definição em polegadas.</li></ul><p>Note que apenas dois dos três parâmetros <code>width</code>, <code>height</code> e <code>aspect</code> são necessários, o terceiro será calculado automaticamente a partir dos outros dois.
A classe <code>FigureScale</code> implementa o protocole de <a href=https://docs.python.org/3/library/collections.abc.html#collections.abc.Sequence target=_blank rel=noopener>Sequence</a>, fazendo com que possa ser aceito como argumento para o parâmetro <code>figsize</code> em qualquer função Matplotlib que o aceite, como <code>plt.subplots()</code>, <code>plt.figure()</code> e outros.</p><p>Veja como agora podemos definir com precisão o padrão de desejamos para dimensões e tamanho da fonte:</p><pre><code class=language-python>plt.rcParams.update(
    {
        #
        'figure.figsize' : fs.FigureScale(units='mm', width=160, aspect=1),
        #
        &quot;axes.labelsize&quot;: 12,
        &quot;font.size&quot;: 12,
        &quot;legend.fontsize&quot;: 12,
        &quot;xtick.labelsize&quot;: 12,
        &quot;ytick.labelsize&quot;: 12,
    }
)
</code></pre><p>É possível realizar posteriormente um ajuste personalizado para cada figura, por exemplo:</p><pre><code class=language-python>fig, axes = plt.subplots(figsize=fs.FigureScale(units='mm', width=160, aspect=1))
</code></pre><p>Toda minha produção técnica/científica tem sido feita em <a href=https://www.latex-project.org/ target=_blank rel=noopener>$\LaTeX$</a>, o que eu certamente recomendo. De fato, esse pode ser um tópico para outro post no futuro próximo.
Se esse não é o seu caso, pode ser o momento de prosseguir para o <a href=#formato>próximo tópico</a>.
De qualquer maneira, vou compartilhar alguns outros ajustes para referência:</p><ul><li><p>Artigo com o <a href=https://www.ctan.org/pkg/els-cas-templates/ target=_blank rel=noopener>template de duas colunas da Elsevier</a>:</p><pre><code class=language-python>ptl.rcParams.update(
    {
        'figure.figsize' : fs.FigureScale(unit='pt', width=238.25444, aspect=3/4),
        #
        &quot;axes.labelsize&quot;: 8,
        &quot;font.size&quot;: 8,
        &quot;legend.fontsize&quot;: 8,
        &quot;xtick.labelsize&quot;: 8,
        &quot;ytick.labelsize&quot;: 8
    }
)
</code></pre></li><li><p>Relatório técnico, Dissertação ou Tese com <a href=https://www.abntex.net.br/ target=_blank rel=noopener>abnTeX2</a>:</p><pre><code class=language-python>ptl.rcParams.update(
    {
        'figure.figsize' : fs.FigureScale(unit='pt', width=455.0, aspect=3/4),
        #
        &quot;axes.labelsize&quot;: 12,
        &quot;font.size&quot;: 12,
        &quot;legend.fontsize&quot;: 12,
        &quot;xtick.labelsize&quot;: 12,
        &quot;ytick.labelsize&quot;: 12,
    }
)
</code></pre></li><li><p>Pôster em tamanho A0 com <a href=https://ctan.org/pkg/beamer target=_blank rel=noopener>beamer</a> (e <a href=https://www.overleaf.com/latex/templates/landscape-beamer-poster-template/vjpmsxxdvtqk target=_blank rel=noopener>esse template</a>):</p><pre><code class=language-python>ptl.rcParams.update(
    {
        'figure.figsize' : fs.FigureScale(unit='pt', width=2376.3973*.75, aspect=9/16),
        #
        &quot;axes.labelsize&quot;: 24,
        &quot;font.size&quot;: 24,
        &quot;legend.fontsize&quot;: 24,
        &quot;xtick.labelsize&quot;: 24,
        &quot;ytick.labelsize&quot;: 24,
    }
)
</code></pre></li><li><p>Apresentação de slides com <a href=https://ctan.org/pkg/beamer target=_blank rel=noopener>beamer</a> (e o tema <a href=https://github.com/elauksap/focus-beamertheme target=_blank rel=noopener>Focus v2.6</a>):</p><pre><code class=language-python>ptl.rcParams.update(
    {
        'figure.figsize' : fs.FigureScale(unit='pt', width=412.56497), aspect=9/16,
    }
)
</code></pre></li></ul><p>Em $\LaTeX$, você tem a certeza de que deu tudo certo quando a figura é incluída com <code>scale=1</code>, e as dimensões e tamanho de fonte tem a aparência adequada, por exemplo:</p><pre><code class=language-latex>\includegraphics[scale=1]{&lt;nome_da_figura&gt;}
</code></pre><hr><script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><ins class=adsbygoogle style=display:block;text-align:center data-ad-layout=in-article data-ad-format=fluid data-ad-client=ca-pub-9439284423075563 data-ad-slot=7484154417></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script><hr><h3 id=formato>Formato</h3><p>Por fim, temos o formato no qual serão salvos os gráficos.
Eles podem ser divididos basicamente em dois grandes grupos, e temos um bloco de código para exemplificar:</p><pre><code class=language-python>import numpy as np

x = np.linspace(0.0, 2.0 * np.pi)
y = np.sin(x)

for f in ['jpg', 'svg']:

    plt.plot(x,y, label = 'Label')
    plt.legend()
    plt.savefig('example_line.'+f, format=f)
</code></pre><ol><li><p><strong>Formato de matriz</strong>: A figura é constituída por um arranjo de pixels (ou matriz), que possuí um tamanho definido, por exemplo 240 x 120 pixels. Se quisermos amplia-la, veremos cada pequeno pixel, em um efeito meio quadriculado. Nesse grupo temos por exemplo os formatos JPG e PNG, veja o resultado:</p><figure id=figure-figura-em-formato-de-matriz-768-x-576-pixels-jpg><div class="d-flex justify-content-center"><div class=w-100><img alt="Figura em formato de matriz 768 x 576 pixels (jpg)." srcset="/blog/2020/10/14/graficos-com-qualidade-de-publicacao-em-python-com-matplotlib/example_line_hu4a02b2ee2cc82d426183992a53dbd112_51903_5dfb47db9dffca673319f3b8411ff61c.jpg 400w,
/blog/2020/10/14/graficos-com-qualidade-de-publicacao-em-python-com-matplotlib/example_line_hu4a02b2ee2cc82d426183992a53dbd112_51903_f3c1f8eda28b893d9b6b6e6bf774c689.jpg 760w,
/blog/2020/10/14/graficos-com-qualidade-de-publicacao-em-python-com-matplotlib/example_line_hu4a02b2ee2cc82d426183992a53dbd112_51903_1200x1200_fit_q90_lanczos.jpg 1200w" src=/blog/2020/10/14/graficos-com-qualidade-de-publicacao-em-python-com-matplotlib/example_line_hu4a02b2ee2cc82d426183992a53dbd112_51903_5dfb47db9dffca673319f3b8411ff61c.jpg width=760 height=570 loading=lazy data-zoomable></div></div><figcaption>Figura em formato de matriz 768 x 576 pixels (jpg).</figcaption></figure><p>A qualidade da figura é controlada pelo número de pixels, ou o parâmetro <strong>dpi</strong> (pontos por polegada, do inglês <em>dots per inch</em>). Aumentar o dpi aumenta a qualidade da imagem, mas também aumenta seu espaço em disco;</p></li><li><p><strong>Formato Vetorial</strong>: Aqui, a figura é composta por vetores, utilizando elementos matemáticos para compor a figura completa. Ao contrário do grupo anterior, ela não perde qualidade quando ampliada. Como exemplo temos os formatos SVG e PDF, veja a figura:</p><figure id=figure-figura-em-formato-vetorial-svg><div class="d-flex justify-content-center"><div class=w-100><img alt="Figura em formato vetorial (svg)." src=/blog/2020/10/14/graficos-com-qualidade-de-publicacao-em-python-com-matplotlib/example_line.svg loading=lazy data-zoomable></div></div><figcaption>Figura em formato vetorial (svg).</figcaption></figure></li></ol><p>Mas afinal, qual escolher? A resposta é: isso depende.</p><p>Eu diria que opções vetoriais são preferíveis (svg para web, PDF para produção técnica), porque mantém uma boa apresentação visual mesmo em telas ou impressões de alta resolução, ou quando as figuras são ampliadas.
Existem entretanto aplicações que simplesmente não aceitam formatos vetoriais (como algumas redes sociais), então podemos mudar para formato matricial (jpg ou png).
Outro desafio para o formato vetorial é quando temos um elevado número de artefatos vetoriais. Independente do tipo de gráfico, à medida que a quantidade de dados vai aumentando de centenas, para milhares e milhões de pontos, pode ser que o espaço que a figura vetorial ocupa em disco seja, afinal, impraticável.</p><p>Note entretanto que existe uma abordagem intermediária, métodos em Matplotlib que permitem converter elementos vetoriais para representação matricial, chamados <code>rasterization</code>.
Para exemplificar isso, temos um bloco de código modificado da <a href=https://matplotlib.org/3.1.3/gallery/misc/rasterization_demo.html target=_blank rel=noopener>Documentação - Matplotlib</a>, veja o código e a figura resultante:</p><pre><code class=language-python>import numpy as np
import matplotlib.pyplot as plt

d = np.arange(100).reshape(10, 10)
x, y = np.meshgrid(np.arange(11), np.arange(11))

theta = 0.25*np.pi
xx = x*np.cos(theta) - y*np.sin(theta)
yy = x*np.sin(theta) + y*np.cos(theta)

fig, (ax1, ax2, ax3) = plt.subplots(1, 3)

ax1.set_aspect(1)
ax1.pcolormesh(xx, yy, d)
ax1.text(0.5, 0.5, &quot;Text&quot;, alpha=0.2,
         va=&quot;center&quot;, ha=&quot;center&quot;, size=50, transform=ax1.transAxes)
ax1.set_title(&quot;No Rasterization&quot;)

ax2.set_aspect(1)
ax2.pcolormesh(xx, yy, d, zorder=-15)
ax2.text(0.5, 0.5, &quot;Text&quot;, alpha=0.2, zorder=5,
         va=&quot;center&quot;, ha=&quot;center&quot;, size=50, transform=ax2.transAxes)
ax2.set_title(&quot;Rasterization z$&lt;-10$&quot;)
ax2.set_rasterization_zorder(-10)

ax3.set_aspect(1)
ax3.pcolormesh(xx, yy, d)
ax3.text(0.5, 0.5, &quot;Text&quot;, alpha=0.2,
         va=&quot;center&quot;, ha=&quot;center&quot;, size=50, transform=ax3.transAxes)
ax3.set_title(&quot;Rasterization&quot;)
ax3.set_rasterized(True)

plt.savefig(&quot;test_rasterization.pdf&quot;, dpi=150)
plt.savefig(&quot;test_rasterization.eps&quot;, dpi=150)

if not plt.rcParams[&quot;text.usetex&quot;]:
    plt.savefig(&quot;test_rasterization.svg&quot;)
</code></pre><figure><div class="d-flex justify-content-center"><div class=w-100><img alt src=/blog/2020/10/14/graficos-com-qualidade-de-publicacao-em-python-com-matplotlib/test_rasterization.svg loading=lazy data-zoomable></div></div></figure><p>Vemos acima uma figura vetorial com três sub-gráficos:</p><ul><li>No elemento à esquerda, temos a figura puramente vetorial (<em>No Rasterization</em>), perceba a boa qualidade visual mesmo quando ampliada;</li><li>A figura à direita foi convertida para o formato matricial (<em>Rasterization</em>) com a linha <code>ax3.set_rasterized(True)</code>, incluindo título, coordenadas, anotação e o <code>pcolormesh</code>, mesmo que a figura tenha sido salva em svg. Perceba como ela foi totalmente representada pixel por pixel;</li><li>No centro temos uma solução intermediária. Nesse caso, apenas elementos com <code>zorder</code><sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup> menor que <code>-10</code> foram transformados com a linha <code>ax2.set_rasterization_zorder(-10)</code>, nesse caso temos o <code>pcolormesh</code>. Título, coordenadas e a anotação permaneceram vetoriais, e assim, podemos obter o melhor de dois mundos.</li></ul><p>A efetiva escolha sobre quais elementos converter é novamente um compromisso entre a qualidade da imagem e o seu tamanho em disco, e isso certamente depende de cada aplicação, ou mesmo da preferência pessoal. Note que dpi ainda é um parâmetro válido para os elementos convertidos para pixels.</p><p>Finalmente, podemos definir esses parâmetros para serem aplicados como padrão em nosso código da seguinte maneira:</p><pre><code class=language-python>plt.rcParams.update(
    {
        'figure.dpi' : 240,
        'savefig.format' : 'pdf',
        #
        'text.usetex' : True,
        'text.latex.preamble' : &quot;\\usepackage{icomma}&quot;,
    }
)
</code></pre><p>A opção <code>text.usetex</code> é particularmente útil para quem usa $\LaTeX$, permitindo incluir equações como anotações, título ou como rótulo para as coordenadas. A opção <code>'text.latex.preamble' : "\\usepackage{icomma}"</code> é um bônus, isso elimina o espaço inserido em modo matemático após cada vírgula, que certamente não são bem-vindos quando falamos em qualidade de publicação.</p><h2 id=conclusão>Conclusão</h2><p>A apresentação de resultados em alta qualidade é um ponto fundamental para atrair engajamento e atenção do seu público.
Aqui demonstrou-se como a atenção nos detalhes e algumas poucas linhas de código podem ter um enorme impacto na apresentação dos resultados em formato gráfico.
Por fim, espero que esse meu relato sobre a produção de figuras em Python e Matplotlib lhe seja útil como um ponto de partida e motivação para seguir estudando o tema.</p><section class=footnotes role=doc-endnotes><hr><ol><li id=fn:1 role=doc-endnote><p>O parâmetro <code>zorder</code> controla a ordem na qual cada elemento do gráfico será exibido, isso é, o texto com <code>zorder=5</code> será exibido sobre a figura <code>pcolormesh</code> com <code>zorder=-15</code>. Para maiores informações, consulte a <a href=https://matplotlib.org/3.1.1/gallery/misc/zorder_demo.html target=_blank rel=noopener>Documentação - Matplotlib</a>.&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></section></div><p class=edit-page><a href=https://github.com/fschuch/fschuch.com/edit/master/content/post/2020-publication-quality-plots-in-matplotlib/index.pt.md><i class="fas fa-pen pr-2"></i>Edit this page</a></p><div class=article-tags><a class="badge badge-light" href=/tag/matplotlib/>Matplotlib</a>
<a class="badge badge-light" href=/tag/latex/>LaTeX</a>
<a class="badge badge-light" href=/tag/python/>Python</a></div><div class="media author-card content-widget-hr"><a href=https://www.fschuch.com/><img class="avatar mr-3 avatar-circle" src=/author/felipe-n.-schuch/avatar_hu8ccf1005bffbd7f5e7f26c831ac988b4_62426_270x270_fill_q90_lanczos_center.jpg alt="Felipe N. Schuch"></a><div class=media-body><h5 class=card-title><a href=https://www.fschuch.com/>Felipe N. Schuch</a></h5><h6 class=card-subtitle>Application Engineer</h6><p class=card-text>Possuo experiência na aplicação e também no desenvolvimento de ferramentas computacionais capazes de resolver problemas complexos, além de realizar o processamento, visualização e comunicação dos dados produzidos por essas soluções.</p><ul class=network-icon aria-hidden=true><li><a href=mailto:me@fschuch.com><i class="fas fa-envelope"></i></a></li><li><a href=https://www.linkedin.com/in/fschuch/ target=_blank rel=noopener><i class="fab fa-linkedin"></i></a></li><li><a href=https://github.com/fschuch target=_blank rel=noopener><i class="fab fa-github"></i></a></li><li><a href=https://twitter.com/fschuch target=_blank rel=noopener><i class="fab fa-twitter"></i></a></li></ul></div></div><div class=article-widget><div class=post-nav><div class=post-nav-item><div class=meta-nav>Próximo</div><a href=/blog/2021/01/22/jupyter-notebook-como-uma-poderosa-ferramenta-educacional/ rel=next>Jupyter Notebook como uma Poderosa Ferramenta Educacional</a></div><div class=post-nav-item><div class=meta-nav>Anterior</div><a href=/blog/2020/06/05/conducao-de-calor-transiente-bidimensional/ rel=prev>Condução de Calor Transiente Bidimensional</a></div></div></div><div class="article-widget content-widget-hr"><h3>Relacionados</h3><ul><li><a href=/talk/acelerando-a-exploracao-de-dados-multidimensionais-com-xarray/>Acelerando a exploração de dados multidimensionais com Xarray</a></li><li><a href=/talk/metodos-numericos-em-python/>Métodos Numéricos em Python</a></li><li><a href=/blog/2021/01/22/jupyter-notebook-como-uma-poderosa-ferramenta-educacional/>Jupyter Notebook como uma Poderosa Ferramenta Educacional</a></li><li><a href=/talk/metodos-numericos-aplicados-a-transferencia-de-calor/>Métodos Numéricos Aplicados à Transferência de Calor</a></li><li><a href=/talk/python-introducao-e-aplicacoes-da-linguagem-de-programacao-em-engenharia/>Python: Introdução e Aplicações da Linguagem de Programação em Engenharia</a></li></ul></div></div></article></div><div class=page-footer><div class=container><footer class=site-footer><script data-ad-client=ca-pub-9439284423075563 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><p class=powered-by>© 2020-2025 Felipe N. Schuch</p><p class="powered-by copyright-license-text">All content is licensed under <a href=https://creativecommons.org/licenses/by-sa/4.0 rel="noopener noreferrer" target=_blank>CC BY SA 4.0</a></p><p class="powered-by footer-license-icons"><a href=https://creativecommons.org/licenses/by-sa/4.0 rel="noopener noreferrer" target=_blank aria-label="Creative Commons"><i class="fab fa-creative-commons fa-2x" aria-hidden=true></i>
<i class="fab fa-creative-commons-by fa-2x" aria-hidden=true></i>
<i class="fab fa-creative-commons-sa fa-2x" aria-hidden=true></i></a></p><p class=powered-by>Published with
<a href=https://sourcethemes.com/academic/ target=_blank rel=noopener>Academic Website Builder</a>
<span class=float-right aria-hidden=true><a href=# class=back-to-top><span class=button_icon><i class="fas fa-chevron-up fa-2x"></i></span></a></span></p></footer></div></div><div id=modal class="modal fade" role=dialog><div class=modal-dialog><div class=modal-content><div class=modal-header><h5 class=modal-title>Citação</h5><button type=button class=close data-dismiss=modal aria-label=Close>
<span aria-hidden=true>&#215;</span></button></div><div class=modal-body><pre><code class="tex hljs"></code></pre></div><div class=modal-footer><a class="btn btn-outline-primary my-1 js-copy-cite" href=# target=_blank><i class="fas fa-copy"></i> Copiar</a>
<a class="btn btn-outline-primary my-1 js-download-cite" href=# target=_blank><i class="fas fa-download"></i> Download</a><div id=modal-error></div></div></div></div></div><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/instant.page/5.1.0/instantpage.min.js integrity="sha512-1+qUtKoh9XZW7j+6LhRMAyOrgSQKenQ4mluTR+cvxXjP1Z54RxZuzstR/H9kgPXQsVB8IW7DMDFUJpzLjvhGSQ==" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/mermaid/8.8.4/mermaid.min.js integrity="sha512-as1BF4+iHZ3BVO6LLDQ7zrbvTXM+c/1iZ1qII/c3c4L8Rn5tHLpFUtpaEtBNS92f+xGsCzsD7b62XP3XYap6oA==" crossorigin=anonymous title=mermaid></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js integrity="sha512-TDKKr+IvoqZnPzc3l35hdjpHD0m+b2EC2SrLEgKDRWpxf2rFCxemkgvJ5kfU48ip+Y+m2XVKyOCD85ybtlZDmw==" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/bash.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/diff.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/fortran.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/makefile.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/markdown.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/lua.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/python.min.js></script><script id=search-hit-fuse-template type=text/x-template>
        <div class="search-hit" id="summary-{{key}}">
          <div class="search-hit-content">
            <div class="search-hit-name">
              <a href="{{relpermalink}}">{{title}}</a>
              <div class="article-metadata search-hit-type">{{type}}</div>
              <p class="search-hit-description">{{snippet}}</p>
            </div>
          </div>
        </div>
      </script><script src=https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin=anonymous></script><script src=/js/bootstrap.bundle.min.6aed84840afc03ab4d5750157f69c120.js></script><script src=/pt/js/wowchemy.min.5eedfaf253f2d60589868ae11b902a4a.js></script></body></html>